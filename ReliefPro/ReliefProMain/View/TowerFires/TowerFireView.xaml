<Window x:Class="ReliefProMain.View.TowerFires.TowerFireView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:CustomControl="clr-namespace:ReliefProMain.CustomControl" 
        Title="TowerFire" Height="600" Width="900" Name="myWindow">
    <Window.Resources>
        <Style TargetType="{x:Type RowDefinition}">
            <Setter Property="Height" Value="30"/>
        </Style>
        <Style TargetType="{x:Type Label}">
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="25,5,0,0"/>
        </Style>
        <Style TargetType="{x:Type TextBox}">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Height" Value="23"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
        <Style TargetType="{x:Type CustomControl:UnitConvertTextBox}">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Height" Value="23"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
        <Style x:Key="LabelLeftStyle">
            <Setter Property="FrameworkElement.HorizontalAlignment" Value="Left"/>
            <Setter Property="FrameworkElement.VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="{x:Type Button}">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="{x:Type ComboBox}">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="26*"/>
            <ColumnDefinition Width="737*"/>
            <ColumnDefinition Width="29*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="19*"/>
            <RowDefinition Height="42*"/>
            <RowDefinition Height="173*"/>
            <RowDefinition Height="34*"/>
            <RowDefinition Height="236*"/>
            <RowDefinition Height="44*"/>
            <RowDefinition Height="22*"/>
        </Grid.RowDefinitions>
        <TextBlock Grid.Column="1" HorizontalAlignment="Left" Margin="34,10,0,0" Grid.Row="1" TextWrapping="Wrap" Text="Heat Input Model" VerticalAlignment="Top" Width="116"/>
        <ComboBox ItemsSource="{Binding Path=HeatInputModels,Mode=TwoWay}" SelectedItem="{Binding MainModel.HeatInputModel,Mode=TwoWay}" Grid.Column="1" HorizontalAlignment="Left" Margin="163,11,0,0" Grid.Row="1" VerticalAlignment="Top" Width="120"/>
        <CheckBox Content="Adequate drainage and firefighting equipment exist" IsChecked="{Binding MainModel.IsExist}" Grid.Column="1" HorizontalAlignment="Left" Margin="367,17,0,0" Grid.Row="1" VerticalAlignment="Top"/>
        <ListView Grid.Column="1" HorizontalAlignment="Stretch" Height="163"  Grid.Row="2" VerticalAlignment="Top" ItemsSource="{Binding EqList,Mode=TwoWay}" >
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="EqName"  DisplayMemberBinding="{Binding Path=EqName}"></GridViewColumn>
                    <GridViewColumn Header="EqType"  DisplayMemberBinding="{Binding Path=Type}"></GridViewColumn>
                    <GridViewColumn Header="Elevation,m" DisplayMemberBinding="{Binding Path=Elevation}"></GridViewColumn>                       
                    <GridViewColumn Header="Fire Zone"  >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding Path=FireZone}" ></CheckBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="FireFactor"  >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding Path=FFactor}"  HorizontalAlignment="Stretch" ></TextBox>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Wetted Area,m2"  DisplayMemberBinding="{Binding Path=WettedArea}"></GridViewColumn>
                    <GridViewColumn Header="Heat Input,KJ/hr"  DisplayMemberBinding="{Binding Path=HeatInput}"></GridViewColumn>
                    <GridViewColumn Header="Relief Load, Kg/hr"  DisplayMemberBinding="{Binding Path=ReliefLoad}"></GridViewColumn>
                    <GridViewColumn Header="Edit" >
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Button  Content="Edit" Command="{Binding DataContext.EditClick, ElementName=myWindow}" CommandParameter="{Binding Path=ID}"  >
                                    
                                </Button>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
            
        </ListView>
        <GroupBox Grid.Column="1" Header="GroupBox" HorizontalAlignment="Stretch"  Grid.Row="4" VerticalAlignment="Top" Height="230" >
            <Grid>
                <TextBlock HorizontalAlignment="Left" Margin="70,26,0,0" Text="Relief Load" VerticalAlignment="Top"/>
                <TextBlock HorizontalAlignment="Left" Margin="70,58,0,0" Text="Relief Pressure" VerticalAlignment="Top"/>
                <TextBlock HorizontalAlignment="Left" Margin="70,91,0,0" Text="Relief Temperature" VerticalAlignment="Top"/>
                <TextBlock HorizontalAlignment="Left" Margin="70,117,0,0" Text="Relief MW" VerticalAlignment="Top"/>
                <TextBlock HorizontalAlignment="Left" Margin="69,147,0,0" Text="Relief Cp/Cv" VerticalAlignment="Top"/>
                <TextBlock HorizontalAlignment="Left" Margin="67,176,0,0" Text="Relief Z" VerticalAlignment="Top"/>

                <CustomControl:UnitConvertTextBox UnitOrigin="{Binding ElementName=lblLoad,Path=Content,Mode=TwoWay}" HorizontalAlignment="Left" Height="23" Margin="205,23,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefLoad,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>
                <CustomControl:UnitConvertTextBox UnitOrigin="{Binding ElementName=lblPressure,Path=Content,Mode=TwoWay}" HorizontalAlignment="Left" Height="23" Margin="205,56,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefPressure,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>
                <CustomControl:UnitConvertTextBox UnitOrigin="{Binding ElementName=lblTemperature,Path=Content,Mode=TwoWay}" HorizontalAlignment="Left" Height="23" Margin="205,89,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefTemperature,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>
                <TextBox HorizontalAlignment="Left" Height="23" Margin="205,117,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefMW,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>
                <TextBox HorizontalAlignment="Left" Height="23" Margin="205,155,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefCpCv,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>
                <TextBox HorizontalAlignment="Left" Height="23" Margin="205,182,0,0" TextWrapping="Wrap" Text="{Binding Path=MainModel.ReliefZ,Mode=TwoWay}" VerticalAlignment="Top" Width="120"/>

                <Label x:Name="lblLoad" HorizontalAlignment="Left" Margin="325,22,0,0" Content="{Binding ReliefLoadUnit}" VerticalAlignment="Top"/>
                <Label x:Name="lblPressure" HorizontalAlignment="Left" Margin="325,55,0,0" Content="{Binding ReliefPressureUnit}" VerticalAlignment="Top"/>
                <Label x:Name="lblTemperature" HorizontalAlignment="Left" Margin="325,88,0,0" Content="{Binding ReliefTemperatureUnit}" VerticalAlignment="Top"/>
            </Grid>
        </GroupBox>
        <Button Content="OK" Grid.Column="1" HorizontalAlignment="Left" Margin="500,13,0,0" Grid.Row="5" VerticalAlignment="Top" Width="75"/>
        <Button Content="Cancel" IsCancel="True" Grid.Column="1" HorizontalAlignment="Left" Margin="618,13,0,0" Grid.Row="5" VerticalAlignment="Top" Width="75"/>
        <Button Content="Total" Command="{Binding TotalClick }" Grid.Column="1" HorizontalAlignment="Left" Margin="75,10,0,0" Grid.Row="3" VerticalAlignment="Top" Width="75"/>

    </Grid>
</Window>
