<Window x:Class="ReliefProMain.View.PSVView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:CustomControl="clr-namespace:ReliefProMain.CustomControl"            
        Title="PSV" Height="390" Width="800" Name="myWindow">
    
    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="129*"/>
            <ColumnDefinition Width="131*"/>
            <ColumnDefinition Width="43*"/>
            <ColumnDefinition Width="58*"/>
            <ColumnDefinition Width="138*"/>
            <ColumnDefinition Width="149*"/>
            <ColumnDefinition Width="38*"/>
            <ColumnDefinition Width="49*"/>
            <ColumnDefinition Width="10"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="13*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="39*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="39*"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="2"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="24"/>
            
        </Grid.RowDefinitions>
        <Label Content="PSV Name"  Grid.Row="1" Grid.Column="1"  />
        <Label Content="Valve Number"   Grid.Row="2" Grid.Column="1"   />
        <Label Content="Description"  Grid.Row="1" Grid.Column="5"  />
        <Label Content="Valve Type"   Grid.Row="2" Grid.Column="5"  />
        <Label Content="Set Pressure"  Grid.Row="3" Grid.Column="1"  />
        <Label Content="Location Description"  Grid.Row="5"  Grid.Column="1"  />
        <Label Content="Prelief"  Grid.Row="3" Grid.Column="5"  />
        <Label Content="Pset"  Grid.Row="3" Grid.Column="7"   />
        <Label Content="Critical Pressure"  Grid.Column="1" Grid.Row="6"   />

        <TextBox Name="txtName"  Text="{Binding CurrentModel.PSVName}" Grid.Row="1" Grid.Column="2" Margin="6,0,5,0" />
        <TextBox Name="txtValveNumber"  Text="{Binding CurrentModel.ValveNumber}"   Grid.Row="2" Grid.Column="2" Margin="6,0,5,0" />
        <ComboBox Name="cbxValueType"  ItemsSource="{Binding ValveTypes}" SelectedItem="{Binding CurrentModel.ValveType}"   Grid.Row="2" Grid.Column="6" />
        <CustomControl:UnitConvertTextBox UnitOrigin="{Binding ElementName=lblPressure,Path=Content,Mode=TwoWay}"  Text="{Binding CurrentModel.Pressure}" Grid.Row="3" Grid.Column="2"  />
        <TextBox Name="txtLocationDescription"  Text="{Binding CurrentModel.LocationDescription}"   Grid.Row="5" Grid.Column="2" />
        <TextBox Name="txtPrelief"  Text="{Binding CurrentModel.ReliefPressureFactor}"   Grid.Row="3" Grid.Column="6"  />
        <TextBox IsEnabled="False" Name="txtCritical"  Grid.Column="2" Grid.Row="6"  />
        <TextBox Text="{Binding CurrentModel.Description}"  Grid.Column="6" Grid.Row="1" />

        <Label x:Name="lblPressure" HorizontalAlignment="Left" Content="{Binding PSVPressureUnit,Mode=TwoWay}" Grid.Row="3" Grid.Column="3" Height="10"  Width="10"/>

        <GroupBox Name="g1" Grid.Column="5" Header="Additional PSV on Reflux Drum"  Grid.Row="4"  Grid.RowSpan="3"  Grid.ColumnSpan="3" Margin="0,12,0,3">
            <Grid Margin="0,0,-2,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="26*" />
                    <ColumnDefinition Width="114*"/>
                    <ColumnDefinition Width="128*" />
                    <ColumnDefinition Width="32*" />
                    <ColumnDefinition Width="81*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="21*"/>
                    <RowDefinition Height="33*"/>
                    <RowDefinition Height="50*"/>
                </Grid.RowDefinitions>
                <Label Content="PSV Name"    Grid.Column="1" Grid.Row="1"  />
                <TextBox Name="txtDrumPSVName"  Text="{Binding CurrentModel.DrumPSVName}"  Grid.Column="2" Grid.Row="1"  />
                <Label Content="Set Pressure"   VerticalAlignment="Center" Grid.Column="1" Grid.Row="2" Height="26" Margin="0,12" Width="80" />
                <CustomControl:UnitConvertTextBox  UnitOrigin="{Binding ElementName=lblDrumPressure,Path=Content,Mode=TwoWay}"  Text="{Binding CurrentModel.DrumPressure}"  Grid.Column="2" Grid.Row="2"     />
                <Label x:Name="lblDrumPressure" Content="{Binding DrumPressureUnit}" HorizontalAlignment="Left" Grid.Column="3" Grid.Row="2" VerticalAlignment="Center" Margin="0,18,0,22" Height="10" Width="10"/>
            </Grid>
        </GroupBox>
        <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Stretch"   Grid.Row="8" VerticalAlignment="Top" Height="1" Grid.ColumnSpan="10" />

        <Grid HorizontalAlignment="Stretch" Height="32"  Grid.Row="9" VerticalAlignment="Stretch" Grid.ColumnSpan="10" Margin="0,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Button Content="OK"  HorizontalAlignment="Center"  VerticalAlignment="Center" Width="75" Height="22" Command="{Binding SaveCommand}" CommandParameter="{Binding ElementName= myWindow}" Grid.Column="1" />
            <Button Content="Cancel" IsCancel="True" HorizontalAlignment="Center"  Grid.Row="7" VerticalAlignment="Center" Width="76" Height="22" Grid.Column="2" />

        </Grid>

        <StatusBar   Grid.Row="10"  Grid.ColumnSpan="10" >
            <DockPanel>
                <TextBlock DockPanel.Dock="Bottom" Text="Input Area Data"></TextBlock>
            </DockPanel>
        </StatusBar>
        <Label Content="Location"  Grid.Row="4"  Grid.Column="1"   />
        <ComboBox x:Name="cbxLocation"  ItemsSource="{Binding ValveTypes}" SelectedItem="{Binding CurrentModel.ValveType}"   Grid.Row="4" Grid.Column="2" />
        <Label Content="Discharge to"  Grid.Row="7"  Grid.Column="1"    />
        <ComboBox   ItemsSource="{Binding ValveTypes}" SelectedItem="{Binding CurrentModel.ValveType}"   Grid.Row="7" Grid.Column="2" />
    </Grid>
</Window>
