<Window x:Class="ReliefProMain.View.PSVView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:CustomControl="clr-namespace:ReliefProMain.CustomControl"            
        Title="PSV" Height="500" Width="800" Name="myWindow">
    <Window.Resources>
        <Style TargetType="RowDefinition">
            <Setter Property="Height" Value="30"></Setter>
        </Style>
        <Style TargetType="Label">
            <Setter Property="HorizontalAlignment" Value="Left"></Setter>
            <Setter Property="VerticalAlignment" Value="Center"></Setter>
            <Setter Property="Margin" Value="10,5,0,0"></Setter>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="HorizontalAlignment" Value="Center"></Setter>
            <Setter Property="VerticalAlignment" Value="Center"></Setter>
            <Setter Property="Height" Value="23"></Setter>
            <Setter Property="Width" Value="120"></Setter>
            <Setter Property="TextWrapping" Value="Wrap"></Setter>
        </Style>
        <Style TargetType="{x:Type CustomControl:UnitConvertTextBox}">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Height" Value="23"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
        <Style x:Key="LabelLeftStyle">
            <Setter Property="Control.HorizontalAlignment" Value="Left"></Setter>
            <Setter Property="Control.VerticalAlignment" Value="Center"></Setter>
        </Style>
    </Window.Resources>
    <Grid Margin="0,0,2,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="46*"/>
            <ColumnDefinition Width="109*"/>
            <ColumnDefinition Width="174*"/>
            <ColumnDefinition Width="52*"/>
            <ColumnDefinition Width="124*"/>
            <ColumnDefinition Width="255*"/>
            <ColumnDefinition Width="30*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="24*"/>
            <RowDefinition Height="43*"/>
            <RowDefinition Height="56*"/>
            <RowDefinition Height="50*"/>
            <RowDefinition Height="53*"/>
            <RowDefinition Height="63*"/>
            <RowDefinition Height="51*"/>
            <RowDefinition Height="51*"/>
        </Grid.RowDefinitions>
        <Label Content="PSV Name:" Grid.Row="1" Grid.Column="1"/>
        <Label Content="Valve Number:"  Grid.Row="2" Grid.Column="1"/>
        <Label Content="Description:"  Grid.Row="1" Grid.Column="4"/>
        <Label Content="Value Type:"  Grid.Row="2" Grid.Column="4"/>
        <Label Content="Set Pressure:" Grid.Row="3" Grid.Column="1"/>
        <Label Content="Description"  Grid.Row="5"  Grid.Column="1"/>
        <Label Content="Prelief"  Grid.Row="4" Grid.Column="1"/>
        <Label Content="Pset" Grid.Row="4" Grid.Column="3"/>
        <Label Content="Critical Pressure" Grid.Column="1" Grid.Row="6" />

        <TextBox Name="txtName"  Text="{Binding CurrentModel.PSVName}" Grid.Row="1" Grid.Column="2"/>
        <TextBox Name="txtValveNumber"  Text="{Binding CurrentModel.ValveNumber}"   Grid.Row="2" Grid.Column="2"/>
        <ComboBox Name="cbxValueType" ItemsSource="{Binding ValveTypes}" SelectedItem="{Binding CurrentModel.ValveType}" Width="120"  Grid.Row="2" Height="22" Grid.Column="5"/>
        <CustomControl:UnitConvertTextBox UnitOrigin="{Binding ElementName=lblPressure,Path=Content,Mode=TwoWay}" Text="{Binding CurrentModel.Pressure}" Grid.Row="3" Grid.Column="2"/>
        <TextBox Name="txtLocationDescription"  Text="{Binding CurrentModel.LocationDescription}" Height="49" TextWrapping="Wrap"  Grid.Row="5" Grid.Column="2" />
        <TextBox Name="txtPrelief"  Text="{Binding CurrentModel.ReliefPressureFactor}"   Grid.Row="4" Grid.Column="2"/>
        <TextBox Name="txtCritical" Grid.Column="2" Grid.Row="6"/>
        <TextBox Text="{Binding CurrentModel.Description}" Grid.Column="5" Grid.Row="1"/>
        
        <Label x:Name="lblPressure" Content="{Binding PSVPressureUnit,Mode=TwoWay}" Grid.Row="3" Grid.Column="3"/>
        <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Stretch"   Grid.Row="7" VerticalAlignment="Top" Height="2" Grid.ColumnSpan="7" />
        <Button Content="Save"  HorizontalAlignment="Left" Margin="72.045,0,0,29" Grid.Row="7" VerticalAlignment="Bottom" Width="75" Height="22" Command="{Binding SaveCommand}" CommandParameter="{Binding ElementName= myWindow}" Grid.Column="5"/>
        <Button Content="Cancel" IsCancel="True" HorizontalAlignment="Left" Margin="180.045,10,0,0" Grid.Row="7" VerticalAlignment="Top" Width="75" Height="22" Grid.Column="5"/>
        <Button Content="Calculate Critical Pressure" Grid.Column="5" HorizontalAlignment="Left" Margin="26,16,0,0" Grid.Row="3" VerticalAlignment="Top" Width="178" Height="22"/>
     
        <GroupBox Name="g1" Grid.Column="4" Header="Additional PSV on Reflux Drum" HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="4" VerticalAlignment="Top" Height="166" Grid.RowSpan="3" Width="331" Grid.ColumnSpan="2">
            <Grid>
                <Label Content="PSV Name" HorizontalAlignment="Left" Margin="26,22,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.605,0.175"/>
                <TextBox Name="txtDrumPSVName" HorizontalAlignment="Left" Height="23" Margin="126,22,0,0" TextWrapping="Wrap" Text="{Binding CurrentModel.DrumPSVName}" VerticalAlignment="Top" Width="120"/>
                <Label Content="Set Pressure" HorizontalAlignment="Left" Margin="26,71,0,0" VerticalAlignment="Top"/>
                <CustomControl:UnitConvertTextBox  UnitOrigin="{Binding ElementName=lblDrumPressure,Path=Content,Mode=TwoWay}"  HorizontalAlignment="Left" Height="23" Margin="126,71,0,0" TextWrapping="Wrap" Text="{Binding CurrentModel.DrumPressure}" VerticalAlignment="Top" Width="120"/>
                <Label x:Name="lblDrumPressure" Content="{Binding DrumPressureUnit}" HorizontalAlignment="Left" Margin="251,71,0,0" VerticalAlignment="Top"/>
            </Grid>
        </GroupBox>
    </Grid>
</Window>
